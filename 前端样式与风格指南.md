# 数据中台前端样式与风格指南

## 1. 技术栈概览

### 核心框架
- **Vue 3.3.4**：采用 Composition API 和 `<script setup>` 语法
- **Vue Router 4.2.5**：单页应用路由管理
- **Vuex 4.1.0**：全局状态管理
- **Vite 5.0.8**：现代化前端构建工具

### UI框架
- **Element Plus 2.4.3**：企业级组件库
- **@element-plus/icons-vue 2.3.1**：配套图标库
- 中文语言包配置（zh-cn）

### 样式预处理
- **Sass 1.69.5**：CSS预处理器，使用SCSS语法

### 其他依赖
- **Axios 1.6.2**：HTTP请求库
- **Day.js 1.11.10**：日期处理库
- **ECharts 5.4.3**：数据可视化图表库

## 2. 设计规范

### 2.1 颜色体系

#### 主题色
```scss
$primary-color: #409EFF;    // 主色调（蓝色）
$success-color: #67C23A;    // 成功（绿色）
$warning-color: #E6A23C;    // 警告（橙色）
$danger-color: #F56C6C;     // 危险（红色）
$info-color: #909399;       // 信息（灰色）
```

#### 文字颜色
```scss
$text-primary: #303133;      // 主要文字
$text-regular: #606266;      // 常规文字
$text-secondary: #909399;    // 次要文字
$text-placeholder: #C0C4CC;  // 占位符文字
```

#### 边框颜色
```scss
$border-base: #DCDFE6;       // 基础边框
$border-light: #E4E7ED;      // 浅色边框
$border-lighter: #EBEEF5;    // 更浅边框
$border-extra-light: #F2F6FC; // 极浅边框
```

#### 背景颜色
```scss
$bg-color: #F5F7FA;          // 默认背景
$bg-page: #F0F2F5;           // 页面背景
$bg-white: #FFFFFF;          // 白色背景
```

### 2.2 字体规范

#### 字体家族
```css
font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB',
  'Microsoft YaHei', '微软雅黑', Arial, sans-serif;
```

#### 字体大小
```scss
$font-size-xs: 12px;    // 极小号
$font-size-sm: 13px;    // 小号
$font-size-base: 14px;  // 基础大小（默认）
$font-size-md: 16px;    // 中号
$font-size-lg: 18px;    // 大号
$font-size-xl: 20px;    // 特大号
```

### 2.3 间距系统
```scss
$spacing-xs: 5px;   // 极小间距
$spacing-sm: 10px;  // 小间距
$spacing-md: 15px;  // 中间距
$spacing-lg: 20px;  // 大间距
$spacing-xl: 30px;  // 特大间距
```

### 2.4 阴影效果
```scss
$box-shadow-base: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04);
$box-shadow-light: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
```

### 2.5 圆角规范
- 默认圆角：4px
- 按钮圆角：4px
- 卡片圆角：4px

## 3. 布局设计

### 3.1 整体布局结构
```
┌─────────────────────────────────────┐
│          Header (60px)              │
├────────┬────────────────────────────┤
│        │                            │
│Sidebar │      Main Content          │
│(240px) │                            │
│        │                            │
│        ├────────────────────────────┤
│        │      Footer                │
└────────┴────────────────────────────┘
```

### 3.2 布局尺寸
```scss
$header-height: 60px;              // 顶部导航高度
$sidebar-width: 240px;             // 侧边栏宽度
$sidebar-width-collapse: 64px;     // 侧边栏收起宽度
```

### 3.3 响应式断点
- 移动端：< 768px
- 平板：768px - 1024px
- 桌面：> 1024px

#### 移动端适配规则
```scss
@media (max-width: 768px) {
  .page-container {
    padding: $spacing-md;  // 减小内边距
  }
  
  .search-form .el-form-item {
    display: block;        // 表单项垂直排列
    margin-bottom: $spacing-sm;
  }
}
```

## 4. 组件规范

### 4.1 命名规范

#### 文件命名
- **组件文件**：PascalCase（大驼峰），如 `DataSourceList.vue`
- **工具文件**：camelCase（小驼峰），如 `request.js`
- **样式文件**：kebab-case（短横线），如 `global.scss`

#### CSS类命名
- **页面容器**：`.page-container`
- **页面头部**：`.page-header`
- **表格包装**：`.table-wrapper`
- **搜索表单**：`.search-form`
- **BEM规范**：块-元素-修饰符

### 4.2 组件结构规范

```vue
<template>
  <!-- 模板内容 -->
</template>

<script setup>
// 使用 Composition API
import { ref, computed, onMounted } from 'vue'
// 导入顺序：Vue核心 -> 路由/状态 -> UI组件 -> API -> 工具函数
</script>

<style scoped lang="scss">
// 使用 scoped 确保样式隔离
// 使用 SCSS 预处理器
</style>
```

### 4.3 页面组件结构
```html
<div class="page-container">
  <div class="page-header">
    <h2 class="title">页面标题</h2>
    <p class="description">页面描述</p>
  </div>
  
  <div class="search-form">
    <!-- 搜索表单 -->
  </div>
  
  <div class="table-wrapper">
    <div class="table-header">
      <!-- 操作按钮 -->
    </div>
    <!-- 数据表格 -->
    <div class="pagination-wrapper">
      <!-- 分页组件 -->
    </div>
  </div>
</div>
```

## 5. 图标使用

### 5.1 图标库
- 主要使用 Element Plus Icons
- 所有图标组件已全局注册
- 使用方式：`<el-icon><图标名 /></el-icon>`

### 5.2 常用图标映射
- 新增：`Plus`
- 编辑：`Edit`
- 删除：`Delete`
- 搜索：`Search`
- 刷新：`Refresh`
- 设置：`Setting`
- 用户：`User`
- 展开/收起：`Expand` / `Fold`

## 6. 交互规范

### 6.1 动画时长
```scss
$transition-duration: 0.3s;  // 标准过渡时间
```

### 6.2 滚动条样式
```scss
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: $border-extra-light;
}

::-webkit-scrollbar-thumb {
  background: $border-light;
  border-radius: 4px;
  
  &:hover {
    background: $border-base;
  }
}
```

### 6.3 层级管理
```scss
$z-index-normal: 1;
$z-index-dropdown: 1000;
$z-index-sticky: 1020;
$z-index-fixed: 1030;
$z-index-modal-backdrop: 1040;
$z-index-modal: 1050;
$z-index-popover: 1060;
$z-index-tooltip: 1070;
```

## 7. 工具类

### 7.1 文本对齐
```scss
.text-center { text-align: center; }
.text-right { text-align: right; }
.text-left { text-align: left; }
```

### 7.2 外边距工具类
```scss
// 上边距
.mt-xs { margin-top: 5px; }
.mt-sm { margin-top: 10px; }
.mt-md { margin-top: 15px; }
.mt-lg { margin-top: 20px; }
.mt-xl { margin-top: 30px; }

// 下边距
.mb-xs { margin-bottom: 5px; }
.mb-sm { margin-bottom: 10px; }
.mb-md { margin-bottom: 15px; }
.mb-lg { margin-bottom: 20px; }
.mb-xl { margin-bottom: 30px; }

// 左边距
.ml-xs { margin-left: 5px; }
.ml-sm { margin-left: 10px; }
.ml-md { margin-left: 15px; }
.ml-lg { margin-left: 20px; }
.ml-xl { margin-left: 30px; }

// 右边距
.mr-xs { margin-right: 5px; }
.mr-sm { margin-right: 10px; }
.mr-md { margin-right: 15px; }
.mr-lg { margin-right: 20px; }
.mr-xl { margin-right: 30px; }
```

## 8. 开发规范

### 8.1 目录结构
```
frontend/
├── src/
│   ├── api/             # API接口
│   ├── assets/          # 静态资源
│   │   ├── images/      # 图片
│   │   └── styles/      # 全局样式
│   ├── components/      # 组件
│   │   ├── business/    # 业务组件
│   │   └── common/      # 通用组件
│   ├── layouts/         # 布局组件
│   ├── router/          # 路由配置
│   ├── store/           # 状态管理
│   ├── utils/           # 工具函数
│   └── views/           # 页面视图
│       ├── auth/        # 认证相关
│       ├── data-collection/  # 数据采集
│       ├── data-processing/  # 数据处理
│       ├── data-query/       # 数据查询
│       ├── monitor/          # 监控管理
│       └── system/           # 系统管理
```

### 8.2 代码风格
- 使用 2 个空格缩进
- 使用单引号
- 不使用分号
- Vue组件使用 `<script setup>` 语法
- 优先使用 Composition API

### 8.3 组件通信
- Props/Emit：父子组件通信
- Vuex：全局状态管理
- Provide/Inject：深层组件通信

### 8.4 路由管理
- 使用懒加载
- 配置meta信息（title、requiresAuth等）
- 使用路由守卫进行权限控制

## 9. 最佳实践

### 9.1 性能优化
- 路由懒加载
- 组件按需引入
- 图片懒加载
- 虚拟滚动（大数据列表）

### 9.2 代码复用
- 抽取公共组件
- 使用组合式函数（Composables）
- 统一的API请求封装
- 通用工具函数

### 9.3 错误处理
- 统一的错误提示（ElMessage）
- API请求错误拦截
- 路由错误处理
- 表单验证

### 9.4 安全规范
- XSS防护
- CSRF防护
- 敏感信息不存储在前端
- 使用HTTPS

## 10. 使用示例

### 10.1 创建标准页面
```vue
<template>
  <div class="page-container">
    <div class="page-header">
      <h2 class="title">数据源管理</h2>
      <p class="description">管理系统中的数据源配置</p>
    </div>
    
    <div class="search-form">
      <el-form :model="searchForm" inline>
        <el-form-item label="名称">
          <el-input v-model="searchForm.name" placeholder="请输入" />
        </el-form-item>
        <el-form-item>
          <el-button type="primary" icon="Search">搜索</el-button>
          <el-button icon="Refresh">重置</el-button>
        </el-form-item>
      </el-form>
    </div>
    
    <div class="table-wrapper">
      <div class="table-header">
        <el-button type="primary" icon="Plus">新增</el-button>
      </div>
      
      <el-table :data="tableData" v-loading="loading">
        <!-- 表格列定义 -->
      </el-table>
      
      <div class="pagination-wrapper">
        <el-pagination
          v-model:current-page="currentPage"
          :page-size="pageSize"
          :total="total"
          layout="total, prev, pager, next, jumper"
        />
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import { getDataList } from '@/api/data'

const loading = ref(false)
const tableData = ref([])
const searchForm = ref({
  name: ''
})
const currentPage = ref(1)
const pageSize = ref(10)
const total = ref(0)

onMounted(() => {
  loadData()
})

const loadData = async () => {
  loading.value = true
  try {
    const res = await getDataList({
      ...searchForm.value,
      page: currentPage.value,
      pageSize: pageSize.value
    })
    tableData.value = res.data
    total.value = res.total
  } finally {
    loading.value = false
  }
}
</script>

<style scoped lang="scss">
// 页面特定样式
</style>
```

### 10.2 使用主题变量
```scss
@use '@/assets/styles/variables.scss' as *;

.custom-component {
  color: $text-primary;
  background-color: $bg-white;
  border: 1px solid $border-base;
  padding: $spacing-md;
  margin-bottom: $spacing-lg;
  box-shadow: $box-shadow-light;
  transition: all $transition-duration;
  
  &:hover {
    border-color: $primary-color;
  }
}
```

## 总结

本样式与风格指南为数据中台前端开发提供了统一的规范，确保代码的一致性、可维护性和可扩展性。开发时请严格遵循以上规范，保持代码风格的统一。

如有特殊需求需要调整规范，请与团队讨论后统一修改此文档。