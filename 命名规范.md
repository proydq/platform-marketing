# 命名规范
**项目名称：** 海外自动化营销系统  
**版本号：** V1.0  
**发布日期：** 2025-08-08  
**撰写人：** 开发规范组  

---

## 1. 总则
本规范旨在统一本系统的**数据库、代码、接口、配置**等命名规则，提高可读性、可维护性和一致性。  
命名应简洁、明确、避免歧义，**统一使用英文**（除业务字段确需中文外），禁止混用拼音与英文。

---

## 2. 命名风格

### 2.1 通用规则
- **命名法**：
  - **snake_case**：数据库表、字段、API 参数
  - **camelCase**：JavaScript/TypeScript 变量、函数
  - **PascalCase**：类名、构造函数
  - **UPPER_CASE**：常量、枚举值
- **缩写**：
  - 常用缩写需统一，如 `id`（小写）、`url`、`api`。
  - 缩写不全大写（如 `UserID` → `user_id`）。

---

### 2.2 数据库命名
- **库名**：`业务系统缩写` + `_` + `功能`  
  例：`oms_marketing`
- **表名**：
  - 单数形式（`customer`，非 `customers`）
  - 全小写 + 下划线分隔  
    例：`customer_tag`, `send_task`
- **字段名**：
  - 全小写 + 下划线分隔  
    例：`created_at`, `buyer_role`
  - 外键：`目标表名_singular + _id`  
    例：`customer_id`
  - 布尔字段：使用 `is_` 前缀  
    例：`is_active`
- **索引/约束**：
  - 唯一键：`UK_表名_字段`  
    例：`UK_customer_email`
  - 普通索引：`IDX_表名_字段`  
    例：`IDX_message_status`

---

### 2.3 API 接口命名
- **路径**：
  - 使用**小写** + **连字符**（kebab-case）
  - 资源名使用复数  
    例：`/api/v1/customers`, `/api/v1/send-tasks`
- **动作**：
  - 使用 HTTP 方法区分（GET 查询、POST 创建、PUT 更新、DELETE 删除）
  - 避免在路径中出现动词（用方法表示）
- **版本号**：
  - 固定放在路径 `/api/v{n}/...`  
    例：`/api/v1/templates`
- **参数**：
  - Query 参数使用 `snake_case`
  - Body 参数使用 `camelCase`

---

### 2.4 代码命名

#### 2.4.1 前端（Vue3 + TypeScript）
- 组件文件名：`PascalCase.vue`  
  例：`CustomerList.vue`
- 状态变量：`camelCase`  
  例：`customerList`
- 常量：`UPPER_CASE`  
  例：`DEFAULT_PAGE_SIZE`
- 事件名：`kebab-case`  
  例：`@page-change`

#### 2.4.2 后端（Node.js + TypeScript）
- 类名：`PascalCase`  
  例：`CustomerService`
- 函数名：`camelCase`  
  例：`getCustomerById`
- 文件名：
  - 服务类：`xxx.service.ts`
  - 控制器：`xxx.controller.ts`
  - 数据模型：`xxx.model.ts`
- 枚举名：`PascalCase`，枚举值：`UPPER_CASE`  
  例：
  ```ts
  enum MessageStatus {
    PENDING = 'pending',
    SENT = 'sent'
  }
  ```

---

### 2.5 配置文件与环境变量
- **配置文件**：
  - 文件名：全小写 + 中划线  
    例：`app-config.yaml`
- **环境变量**：
  - 全大写 + 下划线  
    例：`DB_HOST`, `REDIS_URL`
  - 布尔值用 `true`/`false`，避免 `1`/`0`
  - 分组使用前缀  
    例：`SMTP_HOST`, `SMTP_PORT`

---

### 2.6 日志与监控指标
- 日志标签（logger name）：模块名.子模块名（全小写）
  例：`customer.service`
- 监控指标名（Prometheus）：系统名_模块_指标  
  例：`oms_customer_count`

---

## 3. 命名反例与改进
| 错误示例            | 问题             | 正确示例          |
| ------------------- | ---------------- | ----------------- |
| `CustTbl`           | 缩写不统一，含糊 | `customer`        |
| `CreateNewCustomer` | 路径冗余动词     | `POST /customers` |
| `userEmail` (字段)  | 驼峰不适合数据库 | `user_email`      |
| `isactive`          | 可读性差         | `is_active`       |
| `MSGStatus`         | 缩写混乱         | `message_status`  |

---

## 4. 特殊说明
- 任何命名更改必须同步更新：
  - 数据库迁移脚本
  - API 文档（OpenAPI）
  - 前后端调用处
  - 自动化测试用例
- 保留字需避免作为字段/表名，如：`user`, `order`, `group`（如必须使用，需加反引号）

---

## 5. 版本与变更记录
- **V1.0**：建立命名规范（数据库、API、代码、配置、日志、监控）

---