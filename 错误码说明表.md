# 错误码说明表
**项目名称：** 海外自动化营销系统  
**版本号：** V1.0  
**发布日期：** 2025-08-08  
**撰写人：** 测试与质量组  

---

## 1. 错误码设计原则
- **结构**：`模块码(2位)` + `错误类型码(1位)` + `具体错误码(3位)`，如 `CU-40001`
  - 模块码：CU=客户模块、TP=模板模块、MS=消息模块
  - 错误类型码：4=客户端错误，5=服务器错误
  - 错误码：三位数字，按模块内递增
- **统一格式**：
```json
{
  "code": "CU-40001",
  "message": "邮箱格式不正确",
  "detail": "Email must be a valid address",
  "timestamp": "2025-08-08T12:00:00Z",
  "traceId": "abc123"
}
```

---

## 2. 错误码清单

| 错误码   | 模块 | 类型       | 描述                | 解决建议                   |
| -------- | ---- | ---------- | ------------------- | -------------------------- |
| CU-40001 | 客户 | 客户端错误 | 邮箱格式不正确      | 检查输入的邮箱格式         |
| CU-40002 | 客户 | 客户端错误 | 邮箱已存在          | 使用其他邮箱或修改现有客户 |
| CU-40401 | 客户 | 客户端错误 | 客户不存在          | 检查客户ID是否正确         |
| CU-50001 | 客户 | 服务端错误 | 数据库写入失败      | 联系管理员，查看数据库日志 |
| MS-40001 | 消息 | 客户端错误 | 收件人不能为空      | 填写邮箱/号码              |
| MS-40002 | 消息 | 客户端错误 | 消息内容为空        | 检查模板/内容生成逻辑      |
| MS-50001 | 消息 | 服务端错误 | 发送服务异常        | 查看发送服务日志           |
| AU-40101 | 鉴权 | 客户端错误 | 未登录或 token 无效 | 重新登录                   |
| AU-40301 | 鉴权 | 客户端错误 | 权限不足            | 检查账号权限               |

---

## 3. 错误分类
- **4xx**：用户输入/请求错误
- **5xx**：系统内部错误
- **40x / 50x 特殊码**：鉴权与安全相关

---

## 4. 版本记录
- **V1.0**：定义模块化错误码结构，建立首版错误码清单。

---