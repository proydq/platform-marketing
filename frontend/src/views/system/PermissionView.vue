<template>
  <div class="page-container">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="page-title">
        <span class="page-icon">ğŸ”</span>
        æƒé™ç®¡ç†
      </div>
      <div class="page-subtitle">
        ç®¡ç†ç³»ç»Ÿç”¨æˆ·è§’è‰²ã€æƒé™é…ç½®ï¼Œç¡®ä¿ç³»ç»Ÿå®‰å…¨å’Œè®¿é—®æ§åˆ¶
      </div>
      <div class="page-actions">
        <el-button class="btn-secondary" @click="refreshData">
          <el-icon><Refresh /></el-icon>
          åˆ·æ–°æ•°æ®
        </el-button>
      </div>
    </div>

    <!-- æ ‡ç­¾é¡µå†…å®¹ -->
    <div class="data-table-wrapper">
      <el-tabs v-model="activeTab" class="enhanced-tabs">
        <el-tab-pane name="roles">
          <template #label>
            <span class="tab-label">
              <el-icon><UserFilled /></el-icon>
              è§’è‰²ç®¡ç†
            </span>
          </template>
          <RoleManagement />
        </el-tab-pane>
        <el-tab-pane name="users">
          <template #label>
            <span class="tab-label">
              <el-icon><User /></el-icon>
              ç”¨æˆ·ç®¡ç†
            </span>
          </template>
          <UserManagement />
        </el-tab-pane>
        <el-tab-pane name="permission-setting">
          <template #label>
            <span class="tab-label">
              <el-icon><Setting /></el-icon>
              æƒé™é…ç½®
            </span>
          </template>
          <PermissionConfig />
        </el-tab-pane>
      </el-tabs>
    </div>
  </div>
</template>

<script setup>
import { ref } from "vue";
import { Refresh, UserFilled, User, Setting } from "@element-plus/icons-vue";
import RoleManagement from "@/views/permission/RoleManagement.vue";
import UserManagement from "@/views/permission/UserManagement.vue";
import PermissionConfig from "@/views/permission/PermissionConfig.vue";

const activeTab = ref("roles");

// åˆ·æ–°æ•°æ®åŠŸèƒ½
function refreshData() {
  // è¿™é‡Œå¯ä»¥æ·»åŠ åˆ·æ–°é€»è¾‘ï¼Œæˆ–è€…è§¦å‘å­ç»„ä»¶çš„åˆ·æ–°
  location.reload();
}
</script>

<style scoped>
.tab-label {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
}

.tab-label .el-icon {
  font-size: 14px;
}
</style>
